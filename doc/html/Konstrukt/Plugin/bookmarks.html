<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><title>Konstrukt::Plugin::bookmarks</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="cpan" type="text/css" href="../../cpan.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::CustomHTML v,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.008008 at Tue Sep 26 20:07:27 2006 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::CustomHTML, and/or subclassing Pod::Simple::CustomHTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::CustomHTML for advice.
   See 'perldoc Pod::Simple::CustomHTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CONFIGURATION'>CONFIGURATION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#execute_again'>execute_again</a>
    <li class='indexItem indexItem2'><a href='#init'>init</a>
    <li class='indexItem indexItem2'><a href='#install'>install</a>
    <li class='indexItem indexItem2'><a href='#prepare'>prepare</a>
    <li class='indexItem indexItem2'><a href='#execute'>execute</a>
    <li class='indexItem indexItem2'><a href='#add_entry_show'>add_entry_show</a>
    <li class='indexItem indexItem2'><a href='#add_entry'>add_entry</a>
    <li class='indexItem indexItem2'><a href='#edit_entry_show'>edit_entry_show</a>
    <li class='indexItem indexItem2'><a href='#get_flat_category_list'>get_flat_category_list</a>
    <li class='indexItem indexItem2'><a href='#edit_entry'>edit_entry</a>
    <li class='indexItem indexItem2'><a href='#delete_entry_show'>delete_entry_show</a>
    <li class='indexItem indexItem2'><a href='#delete_entry'>delete_entry</a>
    <li class='indexItem indexItem2'><a href='#show_entry'>show_entry</a>
    <li class='indexItem indexItem2'><a href='#show_entries'>show_entries</a>
    <li class='indexItem indexItem2'><a href='#show_entries_collect_data'>show_entries_collect_data</a>
    <li class='indexItem indexItem2'><a href='#add_category_show'>add_category_show</a>
    <li class='indexItem indexItem2'><a href='#add_category'>add_category</a>
    <li class='indexItem indexItem2'><a href='#edit_category_show'>edit_category_show</a>
    <li class='indexItem indexItem2'><a href='#edit_category'>edit_category</a>
    <li class='indexItem indexItem2'><a href='#delete_category_show'>delete_category_show</a>
    <li class='indexItem indexItem2'><a href='#delete_category'>delete_category</a>
    <li class='indexItem indexItem2'><a href='#visit'>visit</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Konstrukt::Plugin::bookmarks - Bookmark management for registered users</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>        You may simply integrate it by putting
                
                &#60;&#38; bookmarks / &#38;&#62;
                
        somewhere in your website.</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This Konstrukt Plug-In provides bookmark-facilities for your website.</p>

<p>You may simply integrate it by putting</p>

<pre>        &#60;&#38; bookmarks / &#38;&#62;</pre>

<p>somewhere in your website.</p>

<p>To be able to reference the stored bookmarks as links, which will update the visit counters and last visit timestamps and redirect to the URL stored in the bookmark create an empty redirect.ihtml (or any othername) with this content:</p>

<pre>        &#60;&#38; bookmarks show=&#34;visit&#34; / &#38;&#62;</pre>

<p>Then reference the bookmark like this:</p>

<pre>        &#60;a href=&#34;redirect.ihtml?id=&#60;bookmark-id&#62;&#34;&#62;Bookmark-Title&#60;/a&#62;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURATION"
>CONFIGURATION</a></h1>

<p>You may do some configuration in your konstrukt.settings to let the plugin know where to get its data and which layout to use. Default:</p>

<pre>        #backend
        bookmarks/backend            DBI</pre>

<p>See the documentation of the backend modules (e.g. <a href="../../Konstrukt/Plugin/bookmarks/DBI.html#CONFIGURATION" class="podlinkpod"
>&#34;CONFIGURATION&#34; in Konstrukt::Plugin::bookmarks::DBI</a>) for their configuration.</p>

<pre>        #layout
        bookmarks/template_path      /templates/bookmarks/
        bookmarks/root_title         Links
        #user levels
        bookmarks/userlevel_write    0 #every registered user may add bookmarks
        bookmarks/userlevel_admin    2</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="execute_again"
>execute_again</a></h2>

<p>Yes, this plugin may return dynamic nodes (i.e. template nodes).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="init"
>init</a></h2>

<p>Initializes this object. Sets $self-&#62;{backend} and $self-&#62;{template_path}layout/. init will be called by the constructor.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="install"
>install</a></h2>

<p>Installs the templates.</p>

<p><b>Parameters:</b></p>

<p>none</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="prepare"
>prepare</a></h2>

<p>We cannot prepare anything as the input data may be different on each request. The result is completely dynamic.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="execute"
>execute</a></h2>

<p>All the work is done in the execute step.</p>

<p><b>Parameters</b>:</p>

<ul>
<li>$tag - Reference to the tag (and its children) that shall be handled.</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_entry_show"
>add_entry_show</a></h2>

<p>Displays the form to add a bookmark.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_entry"
>add_entry</a></h2>

<p>Takes the HTTP form input and adds a new bookmark entry.</p>

<p>Diesplays a confirmation of the successful addition or error messages otherwise.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="edit_entry_show"
>edit_entry_show</a></h2>

<p>Displays the form to edit a bookmark.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_flat_category_list"
>get_flat_category_list</a></h2>

<p>Flattens the tree of categories into an array of references to the category:</p>

<pre>        (
                {
                        id      =&#62; ..,
                        title   =&#62; ..,
                        author  =&#62; ..,
                        private =&#62; ..,
                        depth   =&#62; ..,
                        categories =&#62; [ ... ],
                        bookmarks =&#62; [ ... ]
                },
                { ... },
                ...
        )</pre>

<p><b>Parameters</b>:</p>

<ul>
<li>$id - The id of the catetegory whose sub-categories should be flattened. (optional)</li>

<li>$depth - The current depth. (optional)</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="edit_entry"
>edit_entry</a></h2>

<p>Takes the HTTP form input and updates the requested bookmark.</p>

<p>Displays a confirmation of the successful update or error messages otherwise.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="delete_entry_show"
>delete_entry_show</a></h2>

<p>Displays the confirmation form to delete an entry.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="delete_entry"
>delete_entry</a></h2>

<p>Deletes the specified entry.</p>

<p>Displays a confirmation of the successful removal or error messages otherwise.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="show_entry"
>show_entry</a></h2>

<p>Shows the requested bookmark.</p>

<p><b>Parameters</b>:</p>

<ul>
<li>$id - ID of the bookmark to show (optional)</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="show_entries"
>show_entries</a></h2>

<p>Shows the categories and bookmarks.</p>

<p><b>Parameters</b>:</p>

<ul>
<li>$category - The category whose entries should be displayed</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="show_entries_collect_data"
>show_entries_collect_data</a></h2>

<p>Recursively generates the tree of categories and bookmarks.</p>

<p>Returns a Konstrukt node that will display the tree.</p>

<p>Only used internally by <a href="#show_entries" class="podlinkpod"
>&#34;show_entries&#34;</a>.</p>

<p><b>Parameters</b>:</p>

<ul>
<li>$id = The id if the category that should be handled</li>

<li>$user_id = The id of the user currently logged in</li>

<li>$user_level = The user level of the user currently logged in</li>

<li>$user_write = True, if the current user may create new entries</li>

<li>$user_admin = True, if the current user is an admin</li>

<li>$tree = Tree symbol of this category. Passed from the parent entry.</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_category_show"
>add_category_show</a></h2>

<p>Displays the form to add a category.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_category"
>add_category</a></h2>

<p>Takes the HTTP form input and adds a new bookmark category.</p>

<p>Displays a confirmation of the successful addition or error messages otherwise.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="edit_category_show"
>edit_category_show</a></h2>

<p>Displays the form to edit a category.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="edit_category"
>edit_category</a></h2>

<p>Takes the HTTP form input and updates an existing bookmark category.</p>

<p>Displays a confirmation of the successful update or error messages otherwise.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="delete_category_show"
>delete_category_show</a></h2>

<p>Displays the confirmation form to delete a category.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="delete_category"
>delete_category</a></h2>

<p>Takes the HTTP form input and removes an existing bookmark category.</p>

<p>Displays a confirmation of the successful removal or error messages otherwise.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="visit"
>visit</a></h2>

<p>Redirects to a given bookmark. Increases the &#34;visits&#34; counter and updates the &#34;last visit&#34; date.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Copyright 2006 Thomas Wittek (mail at gedankenkonstrukt dot de). All rights reserved.</p>

<p>This document is free software. It is distributed under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../Konstrukt/Plugin/bookmarks/DBI.html" class="podlinkpod"
>Konstrukt::Plugin::bookmarks::DBI</a>, <a href="../../Konstrukt/Plugin.html" class="podlinkpod"
>Konstrukt::Plugin</a>, <a href="../../Konstrukt.html" class="podlinkpod"
>Konstrukt</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
