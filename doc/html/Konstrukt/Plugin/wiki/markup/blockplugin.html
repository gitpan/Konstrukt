<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><title>Konstrukt::Plugin::wiki::markup::blockplugin</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="cpan" type="text/css" href="../../../../cpan.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::CustomHTML v,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.008008 at Tue Sep 26 20:07:33 2006 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::CustomHTML, and/or subclassing Pod::Simple::CustomHTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::CustomHTML for advice.
   See 'perldoc Pod::Simple::CustomHTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <li class='indexItem indexItem2'><a href='#init'>init</a>
    <li class='indexItem indexItem2'><a href='#install'>install</a>
    <li class='indexItem indexItem2'><a href='#process'>process</a>
    <li class='indexItem indexItem2'><a href='#split_block_into_lines'>split_block_into_lines</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Konstrukt::Plugin::wiki::markup::blockplugin - Base class for wiki block plugins</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>        use base &#39;Konstrukt::Plugin::wiki::markup::blockplugin&#39;;
        
        #read the docs</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Its main purpose it the documentation of the creation of custom wiki block plugins.</p>

<p>It also provides a method which will help your plugin splitting a block into lines.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<p>Constructor of this class. You will most likely inherit this one.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="init"
>init</a></h2>

<p>Initialization. May be overwriten by your class. Your class should set its default settings here.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="install"
>install</a></h2>

<p>Installation of your plugin. For example you may want to create template files for your markup here.</p>

<p>For more information take a look at the documentation at <a href="../../../../Konstrukt/Plugin.html#install" class="podlinkpod"
>&#34;install&#34; in Konstrukt::Plugin</a>.</p>

<p><b>Parameters:</b></p>

<p>none</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="process"
>process</a></h2>

<p>This method will do the work of your plugin.</p>

<p>A block node containing several child nodes (maybe of type &#39;plaintext&#39;, maybe not) will be passed to this method.</p>

<p>Usually you will only work on nodes matching this criteria</p>

<pre>        $node-&#62;{type} eq &#39;plaintext&#39; and not $node-&#62;{wiki_finished}</pre>

<p>as you should leave alone non-plaintext nodes and finally parsed nodes.</p>

<p>If you detect that this block cannot be handled by your plugin, you must return undef. Otherwise you should modify the block (e.g. add text-nodes before or behind it, add/remove nodes, replace the nodes by a template node etc.) and return a true value. The block node will then be replaced by its children.</p>

<p>After your plugin processed the block, its output will be post-processed: All returned template nodes (if any) will be prepared recursively so that their plaintext result will be in the tree and plugins later in the chain may also work on the results (what they couldn&#39;t properly if there are tempalte-tag nodes). The result will also be scanned for &#60;nowiki&#62;-areas again to prevent other plugins to work on parts of your results (e.g. HTML-tags).</p>

<p><b>Parameters</b>:</p>

<ul>
<li>$block - Block node (of type <a href="../../../../Konstrukt/Parser/Node.html" class="podlinkpod"
>Konstrukt::Parser::Node</a>) containing the (text-)nodes of this block.</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="split_block_into_lines"
>split_block_into_lines</a></h2>

<p>Will split a passed block into lines. The child nodes of the block will be removed. For each line a new child node will be added under the block node. This node will contain the nodes which belong to one line. Nodes containing more than one line will be splitted.</p>

<p>This one is very similar to <a href="../../../../Konstrukt/Plugin/wiki.html#split_into_blocks" class="podlinkpod"
>&#34;split_into_blocks&#34; in Konstrukt::Plugin::wiki</a>.</p>

<p><b>Parameters</b>:</p>

<ul>
<li>$block - Reference to the block (and its children) that shall be split into lines.</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Copyright 2006 Thomas Wittek (mail at gedankenkonstrukt dot de). All rights reserved.</p>

<p>This document is free software. It is distributed under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../../../Konstrukt/Plugin/wiki.html" class="podlinkpod"
>Konstrukt::Plugin::wiki</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
