<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><title>Konstrukt::Plugin::perl</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="cpan" type="text/css" href="../../cpan.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::CustomHTML v,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.008008 at Tue Sep 26 20:07:29 2006 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::CustomHTML, and/or subclassing Pod::Simple::CustomHTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::CustomHTML for advice.
   See 'perldoc Pod::Simple::CustomHTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CONFIGURATION'>CONFIGURATION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#init'>init</a>
    <li class='indexItem indexItem2'><a href='#prepare_again'>prepare_again</a>
    <li class='indexItem indexItem2'><a href='#execute_again'>execute_again</a>
    <li class='indexItem indexItem2'><a href='#prepare'>prepare</a>
    <li class='indexItem indexItem2'><a href='#execute'>execute</a>
    <li class='indexItem indexItem2'><a href='#print_event'>print_event</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Konstrukt::Plugin::perl - Embedding perl code in your pages/templates</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>        &#60;&#38; perl &#38;&#62;print &#34;hi!&#34;&#60;&#38; / &#38;&#62;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>With this plugin you may embed Perl code into the source code of an Konstrukt-webpage.</p>

<p>Those variables will be available to your code: $<a href="../../Konstrukt/Handler.html" class="podlinkpod"
>Konstrukt::Handler</a>, $<a href="../../Konstrukt/Settings.html" class="podlinkpod"
>Konstrukt::Settings</a>, $<a href="../../Konstrukt/Lib.html" class="podlinkpod"
>Konstrukt::Lib</a>, $<a href="../../Konstrukt/Debug.html" class="podlinkpod"
>Konstrukt::Debug</a>, $<a href="../../Konstrukt/File.html" class="podlinkpod"
>Konstrukt::File</a>, $template_values.</p>

<p>The variable <code>$template_values</code> contains the template values passed to the file, which contains the perl tag. It can be used to produce output for these values. The structure of this data will look like described in <a href="../../Konstrukt/Plugin/template.html#node" class="podlinkpod"
>&#34;node&#34; in Konstrukt::Plugin::template</a>. The values may be scalars (strings) or <a href="../../Konstrukt/Parser/Node.html" class="podlinkpod"
>Konstrukt::Parser::Node</a>s. You should <b>not</b> modify this data!</p>

<p>Note that it would be wise in some cases to enclose the perl code within a comment to prevent parsing of the perl code by the Konstrukt-parser:</p>

<pre>        &#60;&#38; perl &#38;&#62;
                #&#60;--
                sub one { return 1; }
                if (0&#60;&#38;one()) { print &#34;hi!&#34;; }
                #--&#62;
        &#60;&#38; / &#38;&#62;</pre>

<p>Otherwise <code>0&#60;&#38;one()</code> would lead into incorrect parsing as <code>&#60;&#38;</code> would get recognized as a plugin tag start.</p>

<p>For more general information about plugins take a look at <a href="../../Konstrukt/Plugin.html" class="podlinkpod"
>Konstrukt::Plugin</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURATION"
>CONFIGURATION</a></h1>

<p>You may configure the perl plugin to parse the printed output for new tags:</p>

<pre>        #per default the output won&#39;t be parsed again
        perl/parse_output_for_tags 0</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="init"
>init</a></h2>

<p>Initialization. Will only be used internally.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="prepare_again"
>prepare_again</a></h2>

<p>The executed perl code <b>may</b> generate plaintext that will be parsed to new tag nodes.</p>

<p>If you plan to do it (although it is better to directly push the according tag nodes), you have to set the setting perl/parse_output_for_tags to 1.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="execute_again"
>execute_again</a></h2>

<p>Yes, this plugin will very likely generate new tags.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="prepare"
>prepare</a></h2>

<p>We cannot prepare anything as the perl code generally will be completely dynamic.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="execute"
>execute</a></h2>

<p>All the work is done in the execute step. The result of <code>print</code>-statements will be put into the page at the position of the perl-tag.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="print_event"
>print_event</a></h2>

<p>Accepts the <code>printredirector_print</code>-event and adds a plaintext node</p>

<p><b>Parameters</b>:</p>

<ul>
<li>@data - The data passed to the print function</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Copyright 2006 Thomas Wittek (mail at gedankenkonstrukt dot de). All rights reserved.</p>

<p>This document is free software. It is distributed under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../Konstrukt/Plugin.html" class="podlinkpod"
>Konstrukt::Plugin</a>, <a href="../../Konstrukt.html" class="podlinkpod"
>Konstrukt</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
