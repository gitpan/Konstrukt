<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><title>Konstrukt::Handler::Apache</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="cpan" type="text/css" href="../../cpan.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::CustomHTML v,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.008008 at Tue Sep 26 21:00:51 2006 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::CustomHTML, and/or subclassing Pod::Simple::CustomHTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::CustomHTML for advice.
   See 'perldoc Pod::Simple::CustomHTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CONFIGURATION'>CONFIGURATION</a>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#handler'>handler</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Konstrukt::Handler::Apache - Handler for an Apache request</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>Handle an apache request</p>

<pre>        Konstrukt::Handler::Apache::handler($request);</pre>

<p>Plugins and other module may access some request-specific data:</p>

<pre>        #the absolute path to the processed file
        $Konstrukt::Handler-&#62;{abs_filename}
        
        #the path to the processed file relative to the document root
        $Konstrukt::Handler-&#62;{filename}
        
        #the apache request object. shouldn&#39;t be used for compatibility reasons.
        $Konstrukt::Handler-&#62;{apache_request}
        
        #the environment variables of this process as an hashref
        $Konstrukt::Handler-&#62;{ENV}
        
        #cookies as an hashref of cookie objects
        $Konstrukt::Handler-&#62;{cookies}
        #create new cookie:
        $Konstrukt::Handler-&#62;{foo} = CGI::Cookie-&#62;new(-name =&#62; &#39;foo&#39;, -value =&#62; &#39;bar&#39;);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Parses the requested file against special (e.g. &#60;&#38;...&#38;&#62;) tags.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURATION"
>CONFIGURATION</a></h1>

<p>Tell Apache to apply the PerlHandler on the requested files.</p>

<pre>        #You may load a startup script that loads all the modules at startup
        #PerlRequire  perl-scripts/script_to_load_at_startup.pl
        
        #mod_perl 1
        &#60;IfDefine !MODPERL2&#62;
                PerlWarn On
                PerlFreshRestart On
        &#60;/IfDefine&#62;
        
        #mod_perl 2
        &#60;IfDefine MODPERL2&#62;
                #Some useful options
                PerlSwitches -w #mod_perl 2
                
                #Monitor and reload all modules in %INC:
                #httpd.conf:
                PerlModule Apache2::Reload
                PerlInitHandler Apache2::Reload
                
                #Alternatively: Reload a specific set of modules only
                PerlModule Apache2::Reload
                PerlInitHandler Apache2::Reload
                PerlSetVar ReloadAll Off
                #Then any modules with the line:
                # use Apache2::Reload;
                #Will be reloaded when they change.
                #You can also sepcify the modules to be reloaded manually
                PerlSetVar ReloadModules &#34;My::Foo My::Bar Foo::Bar::Test&#34;
                PerlSetVar ReloadDirectories &#34;/tmp/project1 /tmp/project2&#34;
                #Note that ReloadModules and ReloadDirectories will narrow down the set
                #of modules to reload.
                #To monitor the reloading of modules use:
                PerlSetVar ReloadDebug On
        &#60;/IfDefine&#62;
        
        #Preload Module
        PerlModule Konstrukt
        PerlModule Konstrukt::Handler::Apache
        
        #You may also assign the handler to *.html
        &#60;Files *.ihtml&#62;
                &#60;IfDefine !MODPERL2&#62;
                        SetHandler  perl-script
                &#60;/IfDefine&#62;
                &#60;IfDefine MODPERL2&#62;
                        SetHandler  modperl
                &#60;/IfDefine&#62;
                PerlHandler Konstrukt::Handler::Apache
        &#60;/Files&#62;

        #Do not allow access to *.template, *.form and konstrukt.settings files
        #as they contain sensitive information
        &#60;FilesMatch &#34;(\.template|\.form|konstrukt\.settings)$&#34;&#62;
                Deny from All
        &#60;/FilesMatch&#62;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="handler"
>handler</a></h2>

<p>Handles the request.</p>

<p>Filter a file before returning it to the web client.</p>

<p><b>Parameters</b>:</p>

<ul>
<li>$request - The Apache request</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Copyright 2006 Thomas Wittek (mail at gedankenkonstrukt dot de). All rights reserved.</p>

<p>This document is free software. It is distributed under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../Konstrukt/Handler.html" class="podlinkpod"
>Konstrukt::Handler</a>, <a href="../../Konstrukt.html" class="podlinkpod"
>Konstrukt</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
